@page "/login"
@inject LoginViewModel ViewModel

<h3>Login</h3>

<div>
    <label>Email:</label>
    <input @bind="ViewModel.Email" type="email" />
</div>

<div>
    <label>Password:</label>
    <input @bind="ViewModel.Password" type="password" />
</div>

<div>
    <button @onclick="ViewModel.LoginCommand.Execute">Login</button>
</div>

<div>
    @ViewModel.LoginMessage
</div>

@code {
    protected override void OnInitialized()
    {
        ViewModel.PropertyChanged += (sender, args) =>
        {
            if (args.PropertyName == nameof(ViewModel.LoginMessage))
            {
                InvokeAsync(StateHasChanged);
            }
        };
    }
}
